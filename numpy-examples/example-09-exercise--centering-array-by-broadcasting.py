import numpy as np

# Subtracting the row-wise mean from an array of data

# Example: 10 observations, each of which consists of 3 values
rng = np.random.default_rng(seed=42)

X = rng.random((10, 3))
# array([[0.77395605, 0.43887844, 0.85859792],
#        [0.69736803, 0.09417735, 0.97562235],
#        [0.7611397 , 0.78606431, 0.12811363],
#        [0.45038594, 0.37079802, 0.92676499],
#        [0.64386512, 0.82276161, 0.4434142 ],
#        [0.22723872, 0.55458479, 0.06381726],
#        [0.82763117, 0.6316644 , 0.75808774],
#        [0.35452597, 0.97069802, 0.89312112],
#        [0.7783835 , 0.19463871, 0.466721  ],
#        [0.04380377, 0.15428949, 0.68304895]])

X_mean = X.mean(0)
# array([0.5558298 , 0.50185551, 0.61973092])

# Center the array:
X_centered = X - X_mean
# array([[ 0.21812625, -0.06297707,  0.238867  ],
#        [ 0.14153823, -0.40767817,  0.35589143],
#        [ 0.20530991,  0.28420879, -0.49161728],
#        [-0.10544386, -0.13105749,  0.30703407],
#        [ 0.08803532,  0.3209061 , -0.17631672],
#        [-0.32859107,  0.05272927, -0.55591366],
#        [ 0.27180138,  0.12980889,  0.13835682],
#        [-0.20130383,  0.46884251,  0.2733902 ],
#        [ 0.2225537 , -0.30721681, -0.15300991],
#        [-0.51202603, -0.34756602,  0.06331804]])

# Check the mean of the centered array:
X_centered.mean(axis=0)
# array([ 4.4408921e-17, -8.8817842e-17, -4.4408921e-17])
